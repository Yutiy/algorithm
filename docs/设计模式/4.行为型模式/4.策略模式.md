---
title: "策略模式"
date: 2020-03-26
permalink: "pattern/strategy"
tag:
  - design-pattern
categories:
  - design-pattern
---

## 定义

根据不同的参数命中不同的策略

## 运用

如下获取年终奖的 🌰, 根据不同的参数（level）获得不同策略方法(规则):

```js
const strategy = {
  S: function (salary) {
    return salary * 4;
  },
  A: function (salary) {
    return salary * 3;
  },
  B: function (salary) {
    return salary * 2;
  },
};

const calculateBonus = function (level, salary) {
  return strategy[level](salary);
};

calculateBonus("A", 10000); // 30000
```

在 Javascript 中函数是一等公民，策略模式的使用往往运用在高阶函数中，稍微变换下上述 🌰 的形式如下, 可以发现我们平时已经在使用策略模式了

```js
const S = function (salary) {
  return salary * 4;
};
const A = function (salary) {
  return salary * 3;
};
const B = function (salary) {
  return salary * 2;
};

const calculateBonus = function (fn, salary) {
  return fn(salary);
};
calculateBonus(A, 10000); // 30000
```

## 优势

能够减少大量的 if 语句，提升复用性
